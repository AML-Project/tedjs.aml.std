var aml={};!function(){HTMLElement.prototype.accessVar=CharacterData.prototype.accessVar=function(e){for(var t=this;t;){var r=aml.__varFindWithAccessKey(t.AML_AccessKey);if(-1!=r)for(var a=0;a<r.length;a++)if(r[a].left==e)return r[a].varAccess;t=t.parentNode}return-1},ted.amlStorage={vars:[],runModules:function(e,t){if(!tedApi.isElement(e))return 0;tedApi.isUndefined(t)&&(t=1);for(var r in ted.amlStorage.modules)if(ted.amlStorage.modules.hasOwnProperty(r)){var a=function(){return ted.amlStorage.modules[r]}.call(e);a.hasOwnProperty("function")&&(1==t&&a.before===!0&&(0==a.elm.length?a["function"].call(e):-1!=a.elm.indexOf(e.tagName.toLowerCase())&&a["function"].call(e)),-1==t&&a.after===!0&&(0==a.elm.length?a["function"].call(e):-1!=a.elm.indexOf(e.tagName.toLowerCase())&&a["function"].call(e)))}},module_funcs:{control:{func:function(e){return-1==tedApi.attr(this.self,"aml")||!tedApi.isFunction(e)&&!tedApi.isObject(e)?0:(ted.amlStorage.modules.controlers.functions.push({tag:this.self.tagName.toLowerCase(),aml:tedApi.attr(this.self,"aml"),"do":e}),this)},elm:[]}},modules:{controlers:{elm:[],"function":function(){function e(e){var t={};if("undefined"!=typeof e.AML_AccessKey){var r=aml.__varFindWithAccessKey(e.AML_AccessKey);if(-1!=r)for(var a=0;a<r.length;a++){var n=r[a].left;t[n]=aml.varValue(n,e)}}return t}var t={},r=this;t.copy(ted.amlStorage.modules.controlers.global),ted.amlStorage.modules.controlers.local.length>0&&t.copy(ted.amlStorage.modules.controlers.local[this.tagName.toLowerCase()]),t.self=this,t.sub={};for(var a=tedApi.find(this,"[aml]"),n=0;n<a.length;n++){var i=tedApi.attr(a[n],"aml");t.sub[i]=aml.module(i)}var s={set:function(e,t,a){if(aml.addVar({name:t,value:a},r),"undefined"!=typeof r.AML_AccessKey){var n=aml.__varFindWithAccessKey(r.AML_AccessKey);if(-1!=n)for(var i=0;i<n.length;i++){var s=n[i].left;e[s]=aml.varValue(s,r)}}},get:function(t,a){var n=new e(r);return a in n?n[a]:void 0}};t.vars=new Proxy({},s);for(var n=0;n<ted.amlStorage.modules.controlers.functions.length;n++){var l=ted.amlStorage.modules.controlers.functions[n];if(l.tag.toLowerCase()==this.tagName.toLowerCase())return l.aml==tedApi.attr(this,"aml")&&l["do"].call(this,t),1}return 0},local:{},global:__GLOBALS__(this.self),functions:[],before:!0,after:!1}}},aml={access:"AML",creatModule:function(e){if("object"!=typeof e)return!1;if("undefined"==typeof e.name||"string"!=typeof e.name||"undefined"==typeof e["function"]||"function"!=typeof e["function"])return-2;var t={createBasic:function(){function e(e){var t={};if("undefined"!=typeof e.AML_AccessKey){var r=aml.__varFindWithAccessKey(e.AML_AccessKey);if(-1!=r)for(var a=0;a<r.length;a++){var n=r[a].left;t[n]=aml.varValue(n,e)}}return t}var t={},r=this;if(t.copy(r.main.global),r.main.local.count>0){var a=r.main.local[this.self.tagName.toLowerCase()];tedApi.isObject(a)&&t.copy(a)}t.self=this.self;var n={set:function(e,t,a){if(aml.addVar({name:t,value:a},r.self),"undefined"!=typeof r.self.AML_AccessKey){var n=aml.__varFindWithAccessKey(r.self.AML_AccessKey);if(-1!=n)for(var i=0;i<n.length;i++){var s=n[i].left;e[s]=aml.varValue(s,r.self)}}},get:function(t,a){var n=new e(r.self);return console.log(n),a in n?n[a]:void 0}};return t.vars=new Proxy({},n),t},runFunctions:function(e){for(var t=this,r=0;r<t.main.functions.length;r++){var a=t.main.functions[r];if(a.tag.toLowerCase()==t.self.tagName.toLowerCase())return a.aml==tedApi.attr(t.self,"aml")&&tedApi.isFunction(a["do"])&&a["do"].call(t.self,e),1}return 0},Functions:function(e){if(!tedApi.isFunction(e))return 0;for(var t=this,r=0;r<t.main.functions.length;r++){var a=t.main.functions[r];if(a.tag.toLowerCase()==t.self.tagName.toLowerCase())return a.aml==tedApi.attr(t.self,"aml")&&e.call(t.self,a["do"]),1}return 0}},r={elm:[],"function":function(){var r={main:ted.amlStorage.modules["AML_"+e.name]};r.self=this,r.push(t),e["function"].call(this,r)},local:{},global:{},functions:[],before:!0,after:!1};if("undefined"!=typeof e.elm&&e.elm.constructor===Array.prototype.constructor&&(r.elm=e.elm),"undefined"!=typeof e.global){if(e.global.constructor!=={}.constructor)return!1;r.global=e.global}if("undefined"!=typeof e.local){if(e.local.constructor!=={}.constructor)return!1;r.local=e.local}return"undefined"!=typeof e.after&&"boolean"==typeof e.after&&(r.after=e.after),"undefined"!=typeof e.before&&"boolean"==typeof e.before&&(r.before=e.before),ted.amlStorage.modules["AML_"+e.name]=r,ted.amlStorage.module_funcs[e.name]={},ted.amlStorage.module_funcs[e.name].func=function(t){return-1==tedApi.attr(this.self,"aml")||!tedApi.isFunction(t)&&!tedApi.isObject(t)?0:(ted.amlStorage.modules["AML_"+e.name].functions.push({tag:this.self.tagName.toLowerCase(),aml:tedApi.attr(this.self,"aml"),"do":t}),this)},"undefined"!=typeof e.elm&&e.elm.constructor===Array.prototype.constructor&&(ted.amlStorage.module_funcs[e.name].elm=e.elm),!0},__varFindWithVarAccess:function(e){for(var t=0;t<ted.amlStorage.vars.length;t++)if(ted.amlStorage.vars[t].varAccess==e)return ted.amlStorage.vars[t];return-1},__posVarFindWithVarAccess:function(e){for(var t=0;t<ted.amlStorage.vars.length;t++)if(ted.amlStorage.vars[t].varAccess==e)return t;return-1},__varFindWithAccessKey:function(e){for(var t=[],r=0;r<ted.amlStorage.vars.length;r++)ted.amlStorage.vars[r].access==e&&t.push(ted.amlStorage.vars[r]);return t.length>0?t:-1},amlVar:function(el,f,r){function rr(b){return eval(b)}if("undefined"==typeof el)return void 0;"undefined"==typeof r&&(r="not"),r=r.toString().toLowerCase();var AVK=el.accessVar(f.trim());if(-1!=AVK){var FU=aml.__varFindWithVarAccess(AVK).right;return"run"==r?FU=rr.call(el,rr.call(el,FU)):"number"==r&&(FU=parseInt(rr.call(el,FU))),FU}return void 0},editVar:function(e,t,r){if("undefined"==typeof e||"undefined"==typeof t||"undefined"==typeof r||!tedApi.isElement(r)||"undefined"==typeof r.AML_AccessKey)return 0;var a=aml.__varFindWithAccessKey(r.AML_AccessKey);if(-1==a)return-1;for(var n=0;n<a.length;n++)if(a[n].left==e)return ted.amlStorage.vars[aml.__posVarFindWithVarAccess(a[n].varAccess)].right="string"==typeof t?"'"+t+"'":tedApi.objectToString(t).toString(),1;return-2},varExist:function(e,t){if("undefined"==typeof t||!tedApi.isElement(t))return!1;var r=t.accessVar(e);return-1!=r?!0:!1},addVar:function(e,t){if("undefined"==typeof e||!tedApi.isElement(t))return-3;if("undefined"==typeof e.name||"undefined"==typeof e.value)return-2;if("undefined"==typeof t.AML_AccessKey)return-1;if(aml.varExist(e.name,t)){var r=aml.editVar(e.name,e.value,t);return 1===r?1:0}var a="Var_"+tedApi.random(30,"hash"),n={left:"string"==typeof e.name?e.name:e.name.toString(),right:"string"==typeof e.value?"'"+e.value.escape()+"'":tedApi.objectToString(e.value).toString(),access:t.AML_AccessKey,varAccess:a};return ted.amlStorage.vars.push(n),1},varValue:function(e,t){if("undefined"==typeof e||"undefined"==typeof t||!tedApi.isElement(t))return void 0;for(;t;){var r=aml.__varFindWithAccessKey(t.AML_AccessKey,e);if(-1!=r)for(var a=0;a<r.length;a++)if(r[a].left==e)try{return tedApi.run.call(t,"return "+r[a].right)}catch(n){return r[a].right}t=t.parentNode}return void 0},module:function(e){if("string"!=typeof e)return{type:"error",message:"Module Input Must Be String!"};var t=document.querySelectorAll("[aml='"+e+"']");if(0==t.length)return{type:"error",message:"There Is No Such Element!"};if(t.length>1)return{type:"error",message:"There Is More Than One Element With This AML Name!"};var r={};for(var a in ted.amlStorage.module_funcs)ted.amlStorage.module_funcs.hasOwnProperty(a)&&(-1!=ted.amlStorage.module_funcs[a].elm.indexOf(t[0].tagName.toLowerCase())||ted.amlStorage.module_funcs[a].elm.isEmpty())&&(r[a]=ted.amlStorage.module_funcs[a].func);var n=r;return n.self=t[0],tedApi.constObj(n,"Module")},varCompile:function(e){var t=e,r=tedApi.isElement(e)?e.innerHTML:e.nodeValue,a=e.children,n=[],i=[],s=tedApi.isElement(e)?!1:!0;if(!tedApi.isUndefined(a))for(var l=0;l<a.length;l++)n.push({html:a[l].outerHTML,AC:tedApi.random(100,"number")});for(var l=0;l<n.length;l++)r=r.replace(n[l].html,"&%AML_"+n[l].AC+"%&");for(var o=/\{\{(\s*(js\s*\:|aml\s*\:|)\s*([\u0622-\u06CC\s\w\d\~\!\@\#\$\%\^\&\*\(\)\_\-\+\=\/\|\\\'\"\?\>\.\<\,\;\:\]\[]+))\s*\}\}/gim,d=!0;d&&null!==r.match(o);){var f=r.match(o);if(null!==f){for(var c=f.length,u=0;c>u;u++){var m=f[u],p=0;if(m=m.slice(2,-2).trim(),/js\s*\:/.test(m)){m=m.slice(3);try{p=tedApi.run.call(t,m)}catch(h){p=void 0}}else if(/aml\s*\:/.test(m)){m=m.slice(4);var v=aml.amlVar(t,m);if("undefined"==typeof v||"undefined"==m.toLowerCase()||"'undefined'"==m.toLowerCase()){d=!1;continue}p=tedApi.objectToString(v)}else{var v=aml.amlVar(t,m);if("undefined"!=typeof v&&"undefined"!=m.toLowerCase()&&"'undefined'"!=m.toLowerCase())p=tedApi.objectToString(v);else try{p=tedApi.run.call(t,m)}catch(h){d=!1;continue}}i.push({text:f[u],runed:p})}for(var A=0;A<i.length&&d;A++)r=r.replace(i[A].text,i[A].runed instanceof HTMLElement?i[A].runed.outerHTML:"[object HTMLDocument]"==Object.prototype.toString.call(i[A].runed)?i[A].runed.body.innerHTML:i[A].runed);for(var A=0;A<n.length&&d;A++)r=r.replace("&%AML_"+n[A].AC+"%&",n[A].html);d&&s&&(t.nodeValue=r),d&&!s&&(t.innerHTML=r)}}},adVariable:function(e){if("object"!=typeof e)return-1;if("undefined"!=typeof e["for"]&&e["for"]instanceof HTMLElement||(e["for"]=document.querySelector("html")),"undefined"==typeof e.name||"undefined"==typeof e.value)return-1;var t="Var_"+tedApi.random(30,"hash"),r={left:e.name,right:e.value,access:e["for"].AML_AccessKey,varAccess:t};return ted.amlStorage.vars.push(r),aml.varCompile(e["for"]),aml.__posVarFindWithVarAccess(t)}};var AML_IMPORT=ted.define("import",["parse","src"]),AML_SWITCH=ted.define("switch",["cond"]),AML_IF=ted.define("if",["is","not"]),AML_FOR=ted.define("for",["from","to","step","stepback","infinity","is","append"]),AML_GO=ted.define("go",["to","after"]),AML_DEFINE=ted.define("def",["name"]),AML_FUNCTIONS=ted.define("func",["name"]);ted.create(AML_IMPORT,function(e,t){var r=this;if(this.html(""),"undefined"==typeof t)return 0;"undefined"==typeof e&&(e="text");var a=["html","text","xml","json","js","css","image"];if(-1==a.indexOf(e))return 0;if("image"==e){var n=document.createElement("img");return tedApi.hasattr(this.self,"success")&&(n.onload=new Function(tedApi.attr(this.self,"success"))),tedApi.hasattr(this.self,"error")&&(n.onerror=new Function(tedApi.attr(this.self,"error"))),n.src=t,this.changeWith(n),1}if("css"==e){var n=document.createElement("link");return tedApi.hasattr(this.self,"success")&&(n.onload=new Function(tedApi.attr(this.self,"success"))),n.href=t,n.rel="stylesheet",this.changeWith(n),1}if("js"==e){var n=document.createElement("script");return tedApi.hasattr(this.self,"success")&&(n.onload=new Function(tedApi.attr(this.self,"success"))),tedApi.hasattr(this.self,"error")&&(n.onerror=new Function(tedApi.attr(this.self,"error"))),n.src=t,this.changeWith(n),1}var i={type:e,url:t,async:!1};tedApi.hasattr(this.self,"success")?i.success=new Function("content","xhr",tedApi.attr(this.self,"success")):i.success=new Function("return 1;"),tedApi.hasattr(this.self,"save")?!function(){var e=i.success;i.success=function(t){window[tedApi.attr(r.self,"save")]=t.content,ted.returnBack(r.self),r.show(),e.call(r.self,t.content,this)}}():!function(){var t=i.success;i.success=function(a){r.html("html"==e?a.content.body.innerHTML:"xml"==e?a.content.documentElement.innerHTML:"json"==e?tedApi.serialize(a.content):a.content),r.show(),t.call(r.self,a.content,this)}}(),tedApi.hasattr(this.self,"error")&&(i.error=new Function(tedApi.attr(this.self,"error"))),tedApi.hasattr(this.self,"async")&&(i.async=!0),tedApi.http(i)}),ted.create(AML_SWITCH,function(e){if("undefined"==typeof e)return!1;var t;this.removeText(),tedApi.each(this.sons(),function(){tedApi.hide(this)}),t=this.sons("case");for(var r=0;r<t.length&&(!tedApi.hasattr(t[r],"cond")||(ted.compile(t[r]),tedApi.attr(t[r],"cond")!=e||(tedApi.show(t[r]),!tedApi.hasattr(t[r],"break"))));r++);this.show()}),ted.create(AML_IF,function(e,t){if("undefined"==typeof e&&"undefined"==typeof t)return!1;if("undefined"==typeof t)try{this.run("return "+e)&&this.show()}catch(r){this.hide()}else if("undefined"==typeof e)try{this.run("return "+t)||this.show()}catch(r){this.hide()}else try{this.run("return "+e)&&!this.run("return "+t)&&this.show()}catch(r){this.hide()}}),ted.create(AML_FOR,function(e,t,r,a,n,i,s){function l(){var e=!1;try{e=null!==d.attr("is")?!!tedApi.run.call(d.self,"return "+d.attr("is")):!0}catch(t){e=!1}return e}function l(){var e=!1;try{e=null!==d.attr("is")?!!tedApi.run.call(d.self,"return "+d.attr("is")):!0}catch(t){e=!1}return e}if("undefined"==typeof e)return-1;var o=1,d=this;this.self;if("undefined"!=typeof r&&"undefined"!=typeof a)return-1;if("undefined"==typeof r&&(o=2),"undefined"==typeof t&&"undefined"==typeof n)return-1;this.show();var f=this,c=this.html();aml.varExist(f.name,f.self)?aml.editVar(f.name,0,f.self):aml.addVar({name:f.name,value:0},f.self);var u={val:0,kind:1};if(/\d+(s|ms|m|h|)/.test(1==o?r:a)){if(1==o?r=r.trim():a=a.trim(),/\d+s/.test(1==o?r:a))u.val=1e3*tedApi.run.call(f,"return "+(1==o?r:a).replace("s","")),u.kind=2;else if(/\d+ms/.test(1==o?r:a))u.val=tedApi.run.call(f,"return "+(1==o?r:a).replace("ms","")),u.kind=2;else if(/\d+m/.test(1==o?r:a))u.val=60*tedApi.run.call(f,"return "+(1==o?r:a).replace("m",""))*1e3,u.kind=2;else if(/\d+h/.test(1==o?r:a))u.val=60*tedApi.run.call(f,"return "+(1==o?r:a).replace("h",""))*60*1e3,u.kind=2;else{if(!/\d+/.test(1==o?r:a))return-1;u.val=tedApi.run.call(f,"return "+(1==o?r:a)),u.kind=1}if(e=tedApi.run.call(f,"return "+e),"undefined"!=typeof t&&(t=tedApi.run.call(f,"return "+t)),1==o){if(e>t&&"undefined"==typeof n)return-2}else if(t>e&&"undefined"==typeof n)return-2;if("number"!=typeof e||"number"!=typeof t&&"undefined"==typeof n||"number"!=typeof u.val)return-1;if(1==u.kind)if(1==o){f.html("");for(var m=e;t>m&&l();m+=u.val){aml.editVar(f.name,m,f.self),tedApi.isUndefined(s)?f.self.innerHTML=c:f.self.innerHTML+=c;for(var p=tedApi.children(f.self),h=0;h<p.length;h++)ted.compile(p[h])}}else{f.html("");for(var m=t;m>=e&&l();m-=u.val){aml.editVar(f.name,m,f.self),tedApi.isUndefined(s)?f.self.innerHTML=c:f.self.innerHTML+=c;for(var v=tedApi.children(f.self),h=0;h<v.length;h++)ted.compile(v[h])}}else if(1==o){var m=e;f.html("");var A=setInterval(function(){m++;var e=null!==d.attr("is")?tedApi.run.call(d.self,"return "+d.attr("is")):1;(("undefined"==typeof n?m>=t-1:0)||!e)&&clearInterval(A),aml.editVar(f.name,m,f.self),tedApi.isUndefined(s)?f.self.innerHTML=c:f.self.innerHTML+=c;for(var r=tedApi.children(f.self),a=0;a<r.length;a++)ted.compile(r[a])},u.val)}else{var m=e;f.html("");var A=setInterval(function(){m--;var e=null!==d.attr("is")?tedApi.run.call(d.self,"return "+d.attr("is")):1;("undefined"==typeof n?t>=m:0)&&!e&&clearInterval(A),aml.editVar(f.name,m,f.self),tedApi.isUndefined(s)?f.self.innerHTML=c:f.self.innerHTML+=c;for(var r=tedApi.children(f.self),a=0;a<r.length;a++)ted.compile(r[a])},u.val)}}}),ted.create(AML_GO,function(e,t){var r=0,a=this;if("undefined"==typeof e)return 0;if(e=e.trim(),"undefined"!=typeof t&&(t=t.trim()),"here"==e&&(e=window.location.href),/^\d+(s|ms|m|h|)$/.test(t)&&"undefined"!=typeof t&&(/\d+s/.test(t)?r=1e3*tedApi.run.call(a,"return "+t.replace("s","")):/\d+ms/.test(t)?r=tedApi.run.call(a,"return "+t.replace("ms","")):/\d+m/.test(t)?r=60*tedApi.run.call(a,"return "+t.replace("m",""))*1e3:/\d+h/.test(t)&&(r=60*tedApi.run.call(a,"return "+t.replace("h",""))*60*1e3),0>r))return 0;var n=function(){window.location.replace(e)};0==r?n():setTimeout(function(){n()},r)}),ted.create(AML_DEFINE,function(e){var t=ted.define("def-"+e,[]),r=this.html();ted.create(t,function(){this.asHtml(r)}),this["delete"]()}),ted.create(AML_FUNCTIONS,function(e){var t=(this.html(),[]),r=this.attr(),a=this,n=new RegExp(""+e+"\\-[\\w\\d\\$]+","i"),i=a.html();for(var s in r)n.test(s)&&t.push(s.replace(e+"-",""));var l=ted.define(e,t);ted.create(l,function(){function a(e){for(var a=0;a<t.length;a++){aml.adVariable({"for":e,name:r[s+"-"+n[a]],value:"undefined"!=typeof l[a]?"'"+l[a].escape()+"'":l[a]})}}this.html(i);var n=(this.self,t),s=e,l=arguments;a(this.self);for(var o=0;o<tedApi.children(this.self).length;o++);this.show()}),this["delete"]()}),ted.creatAttr("change",function(e){var t=this.self,r=tedApi.elm("[aml='"+e.escape()+"']");if(null===r)return-1;if(r.constructor==Array.prototype.constructor&&(r=r[0]),"undefined"==typeof r.value)return-1;var a=r.value;aml.varExist(e+"_val",t)?aml.editVar(e+"_val",a,t):aml.addVar({name:e+"_val",value:a},t),r.onchange=r.oninput=function(){var r=this;aml.varExist(e+"_val",t)?aml.editVar(e+"_val",r.value,t):aml.addVar({name:e+"_val",value:r.value},t),ted.returnBack(t),tedApi.compile(t)}},[]),ted.creatAttr("var",function(content){var THAT=this,RE=/([\w\$\_]+)(\s*\=\s*)([\w\$\_]+\(.+?(?!\;)\)|\{.+?(?!\;)\}|\[.+?(?!\;)\]|\d+|[\s\w\d\$\_]+|\'[\w\d\s\;\`\~\!\@\#\$\%\^\&\*\(\)\_\+\=\-\"\/\?\.\>\,\<\\\|\}\]\{\[\:]*\'|\"[\w\d\s\;:\`\~\!\@\#\$\%\^\&\*\(\)\_\+\=\-\'\/\?\.\>\,\<\\\|\}\]\{\[]*\")\s*/gim,All=content.match(RE);if(null===All)return-1;for(var i=0;i<All.length;i++){var na=All[i],y=na.slice(na.indexOf("=")+1).trim();("'"==y[0]&&"'"==y[y.length-1]||'"'==y[0]&&'"'==y[y.length-1])&&(y="'"+y.escape()+"'");var RightText=tedApi.run.call(THAT.self,"return "+y),OBJECT={left:na.slice(0,na.indexOf("=")).replace(/\s+/,""),right:RightText,access:THAT.self.AML_AccessKey,varAccess:"Var_"+tedApi.random(30,"hash")};try{eval(OBJECT.right);for(var trust=!0,j=0;j<ted.amlStorage.vars.length;j++){var asv=ted.amlStorage.vars[j];asv.left==OBJECT.left&&asv.access==OBJECT.access&&(trust=!1,aml.editVar(asv.left,OBJECT.right,THAT.self))}trust&&ted.amlStorage.vars.push(OBJECT)}catch(e){tedApi.error("Uncaught: This statement is Wrong: "+OBJECT.right+"\n  Element:"+THAT.self.tagName);continue}}},[]),ted.creatAttr("repeat",function(content){var reg_to=/(\d+)\s*to\s*(\d+)/,reg_in=/([\d\w\$]+)\s+in\s+(\[[\S\s]+\])/,reg_as=/(\{[\S\s]+\})\s+as\s+([\w\$\d]+)\s*\=\>\s*([\w\$\d]+)/,THIS=this.self;if(reg_to.test(content)){content=content.match(reg_to)[0];var __ans=content.match(reg_to),start=parseInt(__ans[1]),end=parseInt(__ans[2]);aml.varExist(THIS.tagName.toLowerCase()+"_loop",THIS)?aml.editVar(THIS.tagName.toLowerCase()+"_loop",start,THIS):aml.addVar({name:THIS.tagName.toLowerCase()+"_loop",value:start},THIS);for(var pointDom=THIS,i=end>start?start+1:start-1;end>start?end>=i:i>=end;end>start?i++:i--){var elm=document.createElement(THIS.tagName.toLowerCase());elm.innerHTML=THIS.innerHTML;var ELM=tedApi.insert(elm);ELM.after(pointDom),tedApi.copyAttr(THIS,elm),tedApi.removeAttr(elm,"repeat"),tedApi.compile(elm),aml.varExist(THIS.tagName.toLowerCase()+"_loop",elm)?aml.editVar(THIS.tagName.toLowerCase()+"_loop",start,elm):aml.addVar({name:THIS.tagName.toLowerCase()+"_loop",value:i},elm),pointDom=elm}}else if(reg_in.test(content)){content=content.match(reg_in)[0];var __ans=content.match(reg_in),dim=__ans[1],array=__ans[2];try{eval("array = "+array)}catch(e){return 0}aml.varExist(dim,THIS)?aml.editVar(dim,array[0],THIS):aml.addVar({name:dim,value:array[0]},THIS);for(var pointDom=THIS,i=1;i<array.length;i++){var elm=document.createElement(THIS.tagName.toLowerCase());elm.innerHTML=THIS.innerHTML;var ELM=tedApi.insert(elm);if(ELM.after(pointDom),tedApi.copyAttr(THIS,elm),tedApi.removeAttr(elm,"repeat"),tedApi.compile(elm),aml.varExist(dim,elm))aml.editVar(dim,array[0],elm);else var t=aml.addVar({name:dim,value:array[i]},elm);pointDom=elm}}else{if(!reg_as.test(content))return 0;content=content.match(reg_as)[0];var __ans=content.match(reg_as),obj=__ans[1],key=__ans[2],value=__ans[3];try{obj=tedApi.run.call(THIS,"return "+obj)}catch(e){return 0}var i=0,pointDom=THIS;tedApi.each(obj,function(e){if(tedApi.isFunction(this))return 0;if(0==i)aml.varExist(key,THIS)&&aml.varExist(value,THIS)?(aml.editVar(key,e,THIS),aml.editVar(value,this,THIS)):(aml.addVar({name:key,value:e},THIS),aml.addVar({name:value,value:this},THIS));else{var t=document.createElement(THIS.tagName.toLowerCase()),r=tedApi.insert(t);if(r.after(pointDom),tedApi.compile(t),tedApi.copyAttr(THIS,t),tedApi.removeAttr(t,"repeat"),aml.varExist(key,t)&&aml.varExist(value,t))aml.editVar(key,e,t),aml.editVar(value,this,t);else{aml.addVar({name:key,value:e},t),aml.addVar({name:value,value:this},t)}t.innerHTML=THIS.innerHTML,pointDom=t}i++})}},[]),ted.beforeCompile(function(e){return tedApi.isElement(this)||tedApi.isTextNode(this)?(tedApi.isUndefined(this.AML_AccessKey)&&(this.AML_AccessKey="AML_"+tedApi.random(24,"hash")),tedApi.isTextNode(this)?0:e?0:void ted.amlStorage.runModules(this,1)):0}),ted.beforeElementRun(function(e){if(e)return 0;var t=this;for(var r in ted._Elements)if("undefined"!=typeof ted._Elements[r]["function"]&&ted._Elements[r].tagName.toLowerCase()==t.tagName.toString().toLowerCase())for(var a=0;a<ted._Elements[r].attributes.length;a++){var n=ted._Elements[r].attributes[a],i=t.tagName.toLowerCase()+"_"+n;t.hasAttribute(n)&&(aml.varExist(i,t)?aml.editVar(i,t.getAttribute(n),t):aml.addVar({name:i,value:t.getAttribute(n)},t))}}),ted.beforeCompile(function(e){if(e)return 0;var t=this;if(!tedApi.isElement(this))return 0;for(var r=0;r<t.attributes.length;r++)for(var a=t.attributes[r],n=/\{\{(\s*(js\s*\:|aml\s*\:|)\s*([\u0622-\u06CC\w\d\~\!\@\#\$\%\^\&\*\(\)\_\-\+\=\/\|\\\'\"\?\>\.\<\,\;\:\]\[\s]+|[\u0622-\u06CC\s\w\d\~\!\@\#\$\%\^\&\*\(\)\_\-\+\=\/\|\\\'\"\?\>\.\<\,\;\:\]\[]+))\s*\}\}/gim,i=!0;null!==a.value.match(n)&&i;){var s=a.value.match(n);if(null!==s)for(var l=0;l<s.length;l++){var o=s[l],d=0;if(o=o.slice(2,-2).trim(),/js\s*\:/.test(o)){o=o.slice(3);try{d=tedApi.run.call(t,o)}catch(f){d=void 0}}else if(/aml\s*\:/.test(o)){o=o.slice(4);var c=aml.amlVar(t,o);if("undefined"==typeof c||"undefined"==o.toLowerCase()||"'undefined'"==o.toLowerCase()){tedApi.warn("Warning: The AML Variable Doesn't Exist: "+o+"\n  Element:"+t.tagName),i=!1;continue}d=tedApi.objectToString(c)}else{var c=aml.amlVar(t,o);if("undefined"!=typeof c&&"undefined"!=o.toLowerCase()&&"'undefined'"!=o.toLowerCase())d=tedApi.objectToString(c);else try{d=tedApi.run.call(t,o)}catch(f){d=""}}t.attributes[r].nodeValue=t.attributes[r].value.replace(s[l],d)}}}),ted.afterCompile(function(e){return e?0:void(tedApi.isElement(this)&&ted.amlStorage.runModules(this,-1))})}(),ted.creatTextNode(/\{\{(\s*(js\s*\:|aml\s*\:|)\s*([\u0622-\u06CC\s\w\d\~\!\@\#\$\%\^\&\*\(\)\_\-\+\=\/\|\\\'\"\?\>\.\<\,\;\:\]\[]+))\s*\}\}/g,function(e){aml.varCompile(this)}),this.aml=aml;